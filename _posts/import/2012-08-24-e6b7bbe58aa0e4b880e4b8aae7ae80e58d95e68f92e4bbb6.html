---
author: liwenxiang
comments: true
date: 2012-08-24 19:57:38+00:00
layout: post
slug: '%e6%b7%bb%e5%8a%a0%e4%b8%80%e4%b8%aa%e7%ae%80%e5%8d%95%e6%8f%92%e4%bb%b6'
title: 添加一个“简单”插件
wordpress_id: 241
categories:
- 心情
---

<p>给spring配置的插件列表加上一个，本以为很简单的事情，很快写完代码，配置上去，结果各种不对。</p>  <p>1， 插件1要先把link url算出来，然后加的这个插件才能处理，插件顺序不对，处理失败</p>  <p>2，插件2里面配置了一些类型的页面是不link 的， case数据不对，没发现插件2的配置，case不过</p>  <p>3，上线之后才苦逼的发现：这个插件是多线程调用的。。。而自己是按照单线程调用来写的，果然死锁了，上线失败。。。把插件注释掉，类似回滚了。。。</p>  <p>&#160;</p>  <p>不是加一个插件那么简单，虽然spring简化了配置，让加个插件只是改下配置文件就可以，但是各个插件之间的依赖，上下文调用的方式，</p>  <p>没有对整个代码有了解，添加一个“简单”的插件真心不简单。</p>